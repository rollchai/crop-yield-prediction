{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhima\\\\Desktop\\\\final\\\\crop-yield-frontend\\\\src\\\\DashboardPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport SchemesPage from \"./SchemesPage\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\nfunction DashboardPage() {\n  _s();\n  const [history, setHistory] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const saved = JSON.parse(localStorage.getItem(\"predictionHistory\")) || [];\n    setHistory(saved);\n  }, []);\n  if (history.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: \"50px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"No data yet \\uD83D\\uDCC9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Go to the prediction form and generate some results first!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this);\n  }\n\n  // üìä Prepare data for chart\n  const labels = history.map(item => item.Crop + \" (\" + item.Year + \")\");\n  const yields = history.map(item => item.predicted_yield);\n  const chartData = {\n    labels,\n    datasets: [{\n      label: \"Predicted Yield (tons/hectare)\",\n      data: yields,\n      backgroundColor: \"rgba(46, 125, 50, 0.6)\",\n      borderColor: \"#2E7D32\",\n      borderWidth: 1\n    }]\n  };\n\n  // üìà Calculate summary stats\n  const avgRainfall = history.reduce((sum, item) => sum + item.Rainfall, 0) / history.length;\n  const avgTemp = history.reduce((sum, item) => sum + item.Avg_Temperature, 0) / history.length;\n  const mostCommonCrop = Object.entries(history.reduce((acc, item) => {\n    acc[item.Crop] = (acc[item.Crop] || 0) + 1;\n    return acc;\n  }, {})).sort((a, b) => b[1] - a[1])[0][0];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"800px\",\n      margin: \"50px auto\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCCA Yield Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Bar, {\n      data: chartData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: summaryContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: card,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDF3E Common Crop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: mostCommonCrop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: card,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDF27\\uFE0F Avg Rainfall\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [avgRainfall.toFixed(1), \" mm\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 52\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: card,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDF21\\uFE0F Avg Temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [avgTemp.toFixed(1), \" \\xB0C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 55\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(\"/schemes\"),\n      style: btnStyle,\n      children: \"\\uD83C\\uDF3F Government Schemes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: btnStyle,\n      onClick: () => navigate(\"/profit-loss\"),\n      children: \"\\uD83D\\uDCB9 Profit\\u2013Loss Analysis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(DashboardPage, \"9tiLwQopJYsDzOIcSXwApoJi4k8=\", false, function () {\n  return [useNavigate];\n});\n_c = DashboardPage;\nconst summaryContainer = {\n  display: \"flex\",\n  justifyContent: \"space-around\",\n  marginTop: \"40px\"\n};\nconst card = {\n  background: \"#f4f6f8\",\n  borderRadius: \"8px\",\n  padding: \"20px\",\n  boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n  textAlign: \"center\",\n  width: \"200px\"\n};\nconst btnStyle = {\n  background: \"#2E7D32\",\n  color: \"#fff\",\n  border: \"none\",\n  padding: \"10px 20px\",\n  borderRadius: \"8px\",\n  cursor: \"pointer\",\n  marginTop: \"10px\"\n};\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useEffect","useState","Bar","Navigate","useNavigate","SchemesPage","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","DashboardPage","_s","history","setHistory","navigate","saved","JSON","parse","localStorage","getItem","length","style","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","labels","map","item","Crop","Year","yields","predicted_yield","chartData","datasets","label","data","backgroundColor","borderColor","borderWidth","avgRainfall","reduce","sum","Rainfall","avgTemp","Avg_Temperature","mostCommonCrop","Object","entries","acc","sort","a","b","maxWidth","margin","padding","summaryContainer","card","toFixed","onClick","btnStyle","_c","display","justifyContent","background","borderRadius","boxShadow","width","color","border","cursor","$RefreshReg$"],"sources":["C:/Users/dhima/Desktop/final/crop-yield-frontend/src/DashboardPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\nimport SchemesPage from \"./SchemesPage\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nfunction DashboardPage() {\r\n  const [history, setHistory] = useState([]);\r\nconst navigate=useNavigate()\r\n  useEffect(() => {\r\n    const saved = JSON.parse(localStorage.getItem(\"predictionHistory\")) || [];\r\n    setHistory(saved);\r\n  }, []);\r\n\r\n  if (history.length === 0) {\r\n    return (\r\n      <div style={{ textAlign: \"center\", marginTop: \"50px\" }}>\r\n        <h2>No data yet üìâ</h2>\r\n        <p>Go to the prediction form and generate some results first!</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // üìä Prepare data for chart\r\n  const labels = history.map((item) => item.Crop + \" (\" + item.Year + \")\");\r\n  const yields = history.map((item) => item.predicted_yield);\r\n\r\n  const chartData = {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: \"Predicted Yield (tons/hectare)\",\r\n        data: yields,\r\n        backgroundColor: \"rgba(46, 125, 50, 0.6)\",\r\n        borderColor: \"#2E7D32\",\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  // üìà Calculate summary stats\r\n  const avgRainfall =\r\n    history.reduce((sum, item) => sum + item.Rainfall, 0) / history.length;\r\n  const avgTemp =\r\n    history.reduce((sum, item) => sum + item.Avg_Temperature, 0) / history.length;\r\n\r\n  const mostCommonCrop = Object.entries(\r\n    history.reduce((acc, item) => {\r\n      acc[item.Crop] = (acc[item.Crop] || 0) + 1;\r\n      return acc;\r\n    }, {})\r\n  ).sort((a, b) => b[1] - a[1])[0][0];\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"800px\", margin: \"50px auto\", padding: \"20px\" }}>\r\n      <h2>üìä Yield Dashboard</h2>\r\n      <Bar data={chartData} />\r\n\r\n      <div style={summaryContainer}>\r\n        <div style={card}><h3>üåæ Common Crop</h3><p>{mostCommonCrop}</p></div>\r\n        <div style={card}><h3>üåßÔ∏è Avg Rainfall</h3><p>{avgRainfall.toFixed(1)} mm</p></div>\r\n        <div style={card}><h3>üå°Ô∏è Avg Temperature</h3><p>{avgTemp.toFixed(1)} ¬∞C</p></div>\r\n      </div>\r\n      <button onClick={() => navigate(\"/schemes\")} style={btnStyle}>\r\n  üåø Government Schemes\r\n</button>\r\n<button\r\n  style={btnStyle }\r\n  onClick={() => navigate(\"/profit-loss\")}\r\n>\r\n  üíπ Profit‚ÄìLoss Analysis\r\n</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst summaryContainer = {\r\n  display: \"flex\",\r\n  justifyContent: \"space-around\",\r\n  marginTop: \"40px\",\r\n};\r\n\r\nconst card = {\r\n  background: \"#f4f6f8\",\r\n  borderRadius: \"8px\",\r\n  padding: \"20px\",\r\n  boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\r\n  textAlign: \"center\",\r\n  width: \"200px\",\r\n};\r\nconst btnStyle = {\r\n  background: \"#2E7D32\",\r\n  color: \"#fff\",\r\n  border: \"none\",\r\n  padding: \"10px 20px\",\r\n  borderRadius: \"8px\",\r\n  cursor: \"pointer\",\r\n  marginTop: \"10px\"\r\n};\r\n\r\nexport default DashboardPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,GAAG,QAAQ,iBAAiB;AACrC,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,OAAOC,WAAW,MAAM,eAAe;AACvC,SACEC,KAAK,IAAIC,OAAO,EAChBC,aAAa,EACbC,WAAW,EACXC,UAAU,EACVC,KAAK,EACLC,OAAO,EACPC,MAAM,QACD,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElBR,OAAO,CAACS,QAAQ,CAACR,aAAa,EAAEC,WAAW,EAAEC,UAAU,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,CAAC;AAEhF,SAASI,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMoB,QAAQ,GAACjB,WAAW,CAAC,CAAC;EAC1BJ,SAAS,CAAC,MAAM;IACd,MAAMsB,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAAC,IAAI,EAAE;IACzEN,UAAU,CAACE,KAAK,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIH,OAAO,CAACQ,MAAM,KAAK,CAAC,EAAE;IACxB,oBACEZ,OAAA;MAAKa,KAAK,EAAE;QAAEC,SAAS,EAAE,QAAQ;QAAEC,SAAS,EAAE;MAAO,CAAE;MAAAC,QAAA,gBACrDhB,OAAA;QAAAgB,QAAA,EAAI;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvBpB,OAAA;QAAAgB,QAAA,EAAG;MAA0D;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9D,CAAC;EAEV;;EAEA;EACA,MAAMC,MAAM,GAAGjB,OAAO,CAACkB,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,GAAG,IAAI,GAAGD,IAAI,CAACE,IAAI,GAAG,GAAG,CAAC;EACxE,MAAMC,MAAM,GAAGtB,OAAO,CAACkB,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACI,eAAe,CAAC;EAE1D,MAAMC,SAAS,GAAG;IAChBP,MAAM;IACNQ,QAAQ,EAAE,CACR;MACEC,KAAK,EAAE,gCAAgC;MACvCC,IAAI,EAAEL,MAAM;MACZM,eAAe,EAAE,wBAAwB;MACzCC,WAAW,EAAE,SAAS;MACtBC,WAAW,EAAE;IACf,CAAC;EAEL,CAAC;;EAED;EACA,MAAMC,WAAW,GACf/B,OAAO,CAACgC,MAAM,CAAC,CAACC,GAAG,EAAEd,IAAI,KAAKc,GAAG,GAAGd,IAAI,CAACe,QAAQ,EAAE,CAAC,CAAC,GAAGlC,OAAO,CAACQ,MAAM;EACxE,MAAM2B,OAAO,GACXnC,OAAO,CAACgC,MAAM,CAAC,CAACC,GAAG,EAAEd,IAAI,KAAKc,GAAG,GAAGd,IAAI,CAACiB,eAAe,EAAE,CAAC,CAAC,GAAGpC,OAAO,CAACQ,MAAM;EAE/E,MAAM6B,cAAc,GAAGC,MAAM,CAACC,OAAO,CACnCvC,OAAO,CAACgC,MAAM,CAAC,CAACQ,GAAG,EAAErB,IAAI,KAAK;IAC5BqB,GAAG,CAACrB,IAAI,CAACC,IAAI,CAAC,GAAG,CAACoB,GAAG,CAACrB,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAC1C,OAAOoB,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CACP,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAEnC,oBACE9C,OAAA;IAAKa,KAAK,EAAE;MAAEmC,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE,WAAW;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAlC,QAAA,gBACtEhB,OAAA;MAAAgB,QAAA,EAAI;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC3BpB,OAAA,CAACb,GAAG;MAAC4C,IAAI,EAAEH;IAAU;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAExBpB,OAAA;MAAKa,KAAK,EAAEsC,gBAAiB;MAAAnC,QAAA,gBAC3BhB,OAAA;QAAKa,KAAK,EAAEuC,IAAK;QAAApC,QAAA,gBAAChB,OAAA;UAAAgB,QAAA,EAAI;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAAApB,OAAA;UAAAgB,QAAA,EAAIyB;QAAc;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACtEpB,OAAA;QAAKa,KAAK,EAAEuC,IAAK;QAAApC,QAAA,gBAAChB,OAAA;UAAAgB,QAAA,EAAI;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAAApB,OAAA;UAAAgB,QAAA,GAAImB,WAAW,CAACkB,OAAO,CAAC,CAAC,CAAC,EAAC,KAAG;QAAA;UAAApC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACnFpB,OAAA;QAAKa,KAAK,EAAEuC,IAAK;QAAApC,QAAA,gBAAChB,OAAA;UAAAgB,QAAA,EAAI;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAAApB,OAAA;UAAAgB,QAAA,GAAIuB,OAAO,CAACc,OAAO,CAAC,CAAC,CAAC,EAAC,QAAG;QAAA;UAAApC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/E,CAAC,eACNpB,OAAA;MAAQsD,OAAO,EAAEA,CAAA,KAAMhD,QAAQ,CAAC,UAAU,CAAE;MAACO,KAAK,EAAE0C,QAAS;MAAAvC,QAAA,EAAC;IAEpE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTpB,OAAA;MACEa,KAAK,EAAE0C,QAAU;MACjBD,OAAO,EAAEA,CAAA,KAAMhD,QAAQ,CAAC,cAAc,CAAE;MAAAU,QAAA,EACzC;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEV;AAACjB,EAAA,CApEQD,aAAa;EAAA,QAEPb,WAAW;AAAA;AAAAmE,EAAA,GAFjBtD,aAAa;AAsEtB,MAAMiD,gBAAgB,GAAG;EACvBM,OAAO,EAAE,MAAM;EACfC,cAAc,EAAE,cAAc;EAC9B3C,SAAS,EAAE;AACb,CAAC;AAED,MAAMqC,IAAI,GAAG;EACXO,UAAU,EAAE,SAAS;EACrBC,YAAY,EAAE,KAAK;EACnBV,OAAO,EAAE,MAAM;EACfW,SAAS,EAAE,2BAA2B;EACtC/C,SAAS,EAAE,QAAQ;EACnBgD,KAAK,EAAE;AACT,CAAC;AACD,MAAMP,QAAQ,GAAG;EACfI,UAAU,EAAE,SAAS;EACrBI,KAAK,EAAE,MAAM;EACbC,MAAM,EAAE,MAAM;EACdd,OAAO,EAAE,WAAW;EACpBU,YAAY,EAAE,KAAK;EACnBK,MAAM,EAAE,SAAS;EACjBlD,SAAS,EAAE;AACb,CAAC;AAED,eAAeb,aAAa;AAAC,IAAAsD,EAAA;AAAAU,YAAA,CAAAV,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}